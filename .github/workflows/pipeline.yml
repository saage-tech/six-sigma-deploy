name: CI/CD Pipeline

on:
  workflow_dispatch:

jobs:
  push:
    name: Build and Publish images
    runs-on: ubuntu-latest
    steps:
      - name: Build and publish images
        run: echo "Publishing images..."

  deploy_devnet:
    name: Deploy Devnet
    runs-on: ubuntu-latest
    needs: push
    environment:
      name: devnet
      url: https://dev.sixsigmasports.app

    concurrency:
      group: devnet

    steps:
      - name: Deploy to devnet
        run: echo "Deploying to devnet"

  deploy_testnet:
    name: Deploy Testnet
    runs-on: ubuntu-latest
    needs: deploy_devnet
    environment:
      name: testnet
      url: https://testnet.sixsigmasports.app

    concurrency:
      group: testnet

    steps:
      - name: Deploy to testnet
        run: echo "Deploying to testnet"

  deploy_mainnet:
    name: Deploy Mainnet
    runs-on: ubuntu-latest
    needs: deploy_testnet
    environment:
      name: mainnet
      url: https://sixsigmasports.app

    concurrency:
      group: mainnet

    steps:
      - name: Deploy to mainnet
        run: echo "Deploying to mainnet"
